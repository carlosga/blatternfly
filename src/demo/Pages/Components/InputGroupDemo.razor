@page "/components/input-group"

<Title HeadingLevel="HeadingLevel.h1" Size="TitleSizes.ExtraLarge4">Input group</Title>
<Title HeadingLevel="HeadingLevel.h2" Size="TitleSizes.ExtraLarge">Examples</Title>

<section class="example-section">
  <Title Size="TitleSizes.Large">Basic</Title>
  <InputGroup>
    <TextInput id="textInput6" Type="TextInputTypes.Text" aria-label="email input field" />
    <InputGroupText id="email-example">@("@example.com")</InputGroupText>
  </InputGroup>
  <br />
  <InputGroup>
    <InputGroupText id="username" aria-label="username">
      <AtIcon />
    </InputGroupText>
    <TextInput Validated="ValidatedOptions.Error" id="textInput7" Type="TextInputTypes.Email" aria-label="Error state username example" />
  </InputGroup>
  <br />
  <InputGroup>
    <TextInput name="textInput11" id="textInput11" Type="TextInputTypes.Search" aria-label="search input example" />
    <Button Variant="ButtonVariant.Control" aria-label="search button for search input">
      <SearchIcon />
    </Button>
  </InputGroup>
  <br />
  <InputGroup>
    <TextInput name="textIndex12" id="textInput12" aria-label="percentage" />
    <InputGroupText id="plain-example" Variant="InputGroupTextVariant.Plain">%</InputGroupText>
  </InputGroup>
</section>

<section class="example-section">
  <Title Size="TitleSizes.Large">With textarea</Title>
  <InputGroup>
    <TextArea name="textarea2" id="textarea2" aria-label="textarea with button" />
    <Button id="textAreaButton2" Variant="ButtonVariant.Control">
      Button
    </Button>
  </InputGroup>
</section>

<section class="example-section">
  <Title Size="TitleSizes.Large">With dropdown</Title>
  <InputGroup>
    <Dropdown OnSelect="@SelectionChanged">
      <Toggle>
        <DropdownToggle>
          @(!string.IsNullOrEmpty(_selected) ? _selected : "Dropdown")
        </DropdownToggle>
      </Toggle>
      <DropdownItems>
        <DropdownItem key="opt-1" Value="Option 1" Component="button">
          Option 1
        </DropdownItem>
        <DropdownItem key="opt-2" Value="Option 2" Component="button">
          Option 2
        </DropdownItem>
        <DropdownItem key="opt-3" Value="Option 3" Component="button">
          Option 3
        </DropdownItem>
      </DropdownItems>
    </Dropdown>
    <TextInput id="textInput3" aria-label="input with dropdown and button" />
    <Button id="inputDropdownButton1" Variant="ButtonVariant.Control">Button</Button>
  </InputGroup>
</section>

<section class="example-section">
  <Title Size="TitleSizes.Large">With multiple group siblings</Title>
  <InputGroup>
    <Button id="textAreaButton1" Variant="ButtonVariant.Control">
      Button
    </Button>
    <TextArea name="textarea1" id="textarea1" aria-label="textarea with buttons" />
    <Button Variant="ButtonVariant.Control">Button</Button>
  </InputGroup>
  <br />
  <InputGroup>
    <Button id="textAreaButton3" Variant="ButtonVariant.Control">
      Button
    </Button>
    <Button Variant="ButtonVariant.Control">Button</Button>
    <TextArea name="textarea3" id="textarea3" aria-label="textarea with 3 buttons" />
    <Button Variant="ButtonVariant.Control">Button</Button>
  </InputGroup>
  <br />
  <InputGroup>
    <InputGroupText>
      <DollarSignIcon />
    </InputGroupText>
    <TextInput id="textInput5" Type="TextInputTypes.Number" aria-label="Dollar amount input example" />
    <InputGroupText>.00</InputGroupText>
  </InputGroup>
</section>

@code {
  private string _selected = null;

  private void SelectionChanged(DropdownItem obj)
  {
    _selected = (string)obj?.AdditionalAttributes["Value"];
  }
}
