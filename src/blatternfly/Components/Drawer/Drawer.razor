@namespace Blatternfly.Components
@inherits BaseComponent

<CascadingValue Value="this" IsFixed="true">
  <div class="@CssClass" @attributes="AdditionalAttributes">
    @ChildContent
  </div>
</CascadingValue>

@code {
  /// Indicate if the drawer is expanded.
  [Parameter] public bool IsExpanded { get; set; }

  /// Indicates if the content element and panel element are displayed side by side.
  [Parameter] public bool IsInline { get; set; }

  /// Indicates if the drawer will always show both content and panel.
  [Parameter] public bool IsStatic { get; set; }

  /// Position of the drawer panel.
  [Parameter] public DrawerPosition Position { get; set; } = DrawerPosition.Right;

  /// Callback when drawer panel is expanded.
  [Parameter] public EventCallback OnExpand { get; set; }

  private string CssClass => new CssBuilder("pf-c-drawer")
    .AddClass("pf-m-expanded"     , IsExpanded)
    .AddClass("pf-m-inline"       , IsInline)
    .AddClass("pf-m-static"       , IsStatic)
    .AddClass("pf-m-panel-left"   , Position == DrawerPosition.Left)
    .AddClass("pf-m-panel-bottom" , Position == DrawerPosition.Bottom)
    .Build();
}