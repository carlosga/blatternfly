@namespace Blatternfly.Components
@inherits BaseComponent

<CascadingValue Value="this">
  <div class="pf-c-drawer @ExpandedClass @InlineClass @StaticClass @PositionClass" @attributes="AdditionalAttributes">
    @ChildContent
  </div>
</CascadingValue>

@code {
  /// Indicate if the drawer is expanded.
  [Parameter] public bool IsExpanded { get; set; }

  /// Indicates if the content element and panel element are displayed side by side.
  [Parameter] public bool IsInline { get; set; }

  /// Indicates if the drawer will always show both content and panel.
  [Parameter] public bool IsStatic { get; set; }

  /// Position of the drawer panel.
  [Parameter] public DrawerPosition Position { get; set; } = DrawerPosition.Right;

  /// Callback when drawer panel is expanded after waiting 250ms for animation to complete.
  [Parameter] public EventCallback OnExpand { get; set; }

  private string ExpandedClass { get => IsExpanded ? "pf-m-expanded" : null; }
  private string InlineClass   { get => IsInline ? "pf-m-inline" : null; }
  private string StaticClass   { get => IsStatic ? "pf-m-static" : null; }
  private string PositionClass
  {
    get => Position switch
    {
      DrawerPosition.Left   => "pf-m-panel-left",
      DrawerPosition.Bottom => "pf-m-panel-bottom",
      _                     => null
    };
  }
}