@namespace Blatternfly.Components
@inherits BaseComponent

<tr 
  class="@ExpandableClass @ExpandedClass @EditableClass @HoverableClass @SelectedClass"
  hidden="@IsHidden"
  @attributes="AdditionalAttributes"
  tabindex="@TabIndex"
  @onclick="@OnRowClick"
>
  @ChildContent
</tr>

@code {

  /// Flag indicating the Tr is hidden.
  [Parameter] public bool IsHidden { get; set; }
  
  /// Only applicable to Tr within the Tbody: Makes the row expandable and determines if it's expanded or not.
  [Parameter] public bool? IsExpanded { get; set; }
  
  /// Only applicable to Tr within the Tbody: Whether the row is editable.
  [Parameter] public bool IsEditable { get; set; }
  
  /// Flag which adds hover styles for the table row.
  [Parameter] public bool IsHoverable { get; set; }
  
  /// Flag indicating the row is selected - adds selected styling.
  [Parameter] public bool IsRowSelected { get; set; }
  
  /// An event handler for the row.
  [Parameter] public EventCallback<MouseEventArgs> OnRowClick { get; set; }

  private bool   HiddenRow       { get => IsHidden || (IsExpanded.HasValue && !IsExpanded.Value); }
  private string ExpandableClass { get => IsExpanded.HasValue ? "pf-c-table__expandable-row" : null; }
  private string ExpandedClass   { get => IsExpanded.GetValueOrDefault() ? "pf-m-expanded" : null; }
  private string EditableClass   { get => IsEditable ? "pf-m-inline-editable" : null; }
  private string HoverableClass  { get => IsHoverable ? "pf-m-hoverable" : null; }
  private string SelectedClass   { get => IsRowSelected ? "pf-m-selected" : null; }
  private string TabIndex        { get => IsHoverable ? "0" : null; }
}