@namespace Blatternfly.Components

<li
  id="@GeneratedId"
  role="presentation"
  class="@ListItemCssClass"
>
  @if (IsLoading)
  {
    @ChildContent
  }
  else
  {
    <button
      class="@MenuItemCssClass"
      @onclick="OnItemClick"
      @onclick:stopPropagation="true"
      role="option"
      aria-selected="@AriaSelected"
      @onkeydown="OnKeyDown"
      type="button"
      @attributes="AdditionalAttributes"
    >
      <span class="pf-c-select__menu-item-main">
        @if (ItemCount > 0)
        {
          <span class="pf-c-select__menu-item-row">
            <span class="pf-c-select__menu-item-text">
              @if (ChildContent is not null)
              {
                @ChildContent
              }
              else if (!string.IsNullOrEmpty(Text))
              {
                @Text
              }
              else if (!string.IsNullOrEmpty(Value))
              {
                @Value
              }
            </span>
            <span class="pf-c-select__menu-item-count">@ItemCount</span>
          </span>
        }
        else
        {
          @if (ChildContent is not null)
          {
            @ChildContent
          }
          else if (!string.IsNullOrEmpty(Text))
          {
            @Text
          }
          else if (!string.IsNullOrEmpty(Value))
          {
            @Value
          }
        }
        @if (IsSelected)
        {
          <span class="pf-c-select__menu-item-icon">
            <CheckIcon aria-hidden="true" />
          </span>
        }
      </span>
      @if (Description is not null)
      {
        <span class="pf-c-select__menu-item-description">@Description</span>
      }
    </button>
    @if (IsFavorite && !string.IsNullOrEmpty(Id))
    {
      <button
        class="pf-c-select__menu-item pf-m-action pf-m-favorite-action"
        aria-label="@FavoriteAriaLabel"
        @onclick="OnFavorite"
        @onclick:stopPropagation="true"
        @onkeydown="OnFavoriteKeyDown"
        @onkeydown:stopPropagation="true"
      >
        <span class="pf-c-select__menu-item-action-icon">
          <StarIcon />
        </span>
      </button>
    }
  }
</li>
